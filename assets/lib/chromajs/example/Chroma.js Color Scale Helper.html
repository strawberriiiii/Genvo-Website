<!DOCTYPE html>
<!-- saved from url=(0140)http://gka.github.io/palettes/#diverging|c0=darkred,deeppink,lightyellow|c1=lightyellow,lightgreen,teal|steps=41|bez0=1|bez1=1|coL0=1|coL1=1 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title>Chroma.js Color Scale Helper</title>
  <script type="text/javascript" src="./Chroma.js Color Scale Helper_files/jquery-1.10.1.js"></script><style type="text/css"></style>
  <script type="text/javascript" src="./Chroma.js Color Scale Helper_files/chroma.min.js"></script>
  <script type="text/javascript" src="./Chroma.js Color Scale Helper_files/d3.min.js"></script>
  <script type="text/javascript" src="./Chroma.js Color Scale Helper_files/underscore-min.js"></script>
  <link rel="stylesheet" type="text/css" href="./Chroma.js Color Scale Helper_files/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="./Chroma.js Color Scale Helper_files/bootstrap-responsive.css">
  <style type="text/css">
body {
 padding: 20px;   
}

h2 {
    font-weight: 300;
}

#steps-div, #steps-seq {
    width: 6em;
    text-align: right;
}

.colors {
    width: 98%;
}

#colors-right { text-align: right; }
svg {
    margin: 10px 0;
}

svg path {
    stroke: #000;
    stroke-width: 2px;
    fill: none;
    shape-rendering: crispEdges;
}


#out {
    margin-top: 2em;
}

div.gradient {
    padding: 10px 10px 6px;
    border-radius:4px;
    background: Gainsboro;
    text-align: center;
}

pre {
    border: 0;
    background: #f3f3f3;
    color: #777;
    padding: 10px;
}

div.gradient div {
    display: inline-block;
    height: 50px;
    color: rgba(0,0,0,0);
}
label.checkbox { display: inline-block; }
  </style>
  <script type="text/javascript">

$(function() {

    var width = $('.span8').width()-20;

    var sequential = true;

    function update() {
        return sequential ? update_seq() : update_div();
    }

    function update_seq() {
        var bez = $('#bez').prop('checked'),
            coL = $('#coL').prop('checked'),
            colors = clean($('#colors').val()),
            steps = +$('#steps-seq').val();
        
        // initialize chroma.scale
        if (bez) colors = chroma.interpolate.bezier(colors);
        var cs = chroma.scale(colors).mode('lab').correctLightness(coL);
        
        // clear display
        $('#out').html('');
        
        // visualize scale
        showScale(cs, steps);
        serializeUrl();
    }
        
    function update_div() {
        var bez0 = $('#bez-left').prop('checked'),
            bez1 = $('#bez-right').prop('checked'),
            coL0 = $('#coL-left').prop('checked'),
            coL1 = $('#coL-right').prop('checked'),
            colors0 = clean($('#colors-left').val()),
            colors1 = clean($('#colors-right').val()),
            steps = +$('#steps-div').val();
        
        // initialize chroma.scale
        if (bez0) colors0 = chroma.interpolate.bezier(colors0);
        if (bez1) colors1 = chroma.interpolate.bezier(colors1);

        var cs0 = chroma.scale(colors0).mode('lab').correctLightness(coL0),
            cs1 = chroma.scale(colors1).mode('lab').correctLightness(coL1);
        
        // clear display
        $('#out').html('');

        var cs = function(t) {
            if (t < 0.5) return cs0(t*2);
            return cs1(t*2-1);
        };
        
        // visualize scale
        showScale(cs, steps);

        serializeUrl();
    }

    function clean(s) {
        return s.trim().replace(/(, *| +)/g, ',').replace(/['"]/g, '').split(',');
    }

    function showScale(cs, steps) {
        var c = $('<div />')
            .css('width', width)
            .addClass('gradient')
            .appendTo('#out');

        var cols = [];
        _.range(steps).forEach(function(i) {
            var t = i/(steps-1);
            $('<div />').appendTo(c)
                .css({
                    width: (100/steps)+'%',
                    background: cs(t).hex()
                });
            cols.push(cs(t).hex());
        });
        
        showLightnessCurve(cs, steps);
        
        $('<div id="exports" />').appendTo('#out');

        var list = '\'' + cols.join('\',\'') + '\'',
            colors = cols.join(' '),
            hexlist = cols.map(function (c) { return c.replace('#','0x'); }).join(',');
        
        var link = location.href;
        
        var range = _.range(steps).map(function(s) {
            return 'min+'+(s+1)+'*d';
        });

        var d3_syntax = 'd3.scale.threshold()\n    .range(['+list+']);',
            d3_syntax_full = 'function palette(min, max) {\n    var d = (max-min)/'+steps+';\n' + '    return d3.scale.threshold()\n        .range(['+list+'])\n        .domain(['+range.join(',')+']);\n}';
        
        export_palette(colors);
        export_palette(list);
        export_palette(d3_syntax);
        export_palette(d3_syntax_full);
        export_palette(hexlist);
        
    }

    function showLightnessCurve(cs, steps) {
        var s = document.createElementNS('http://www.w3.org/2000/svg','svg');
        s.setAttribute('width', width+10);
        s.setAttribute('height', 150);
        var path = document.createElementNS('http://www.w3.org/2000/svg','path');
        var d = '',
            x = 10,
            l_steps = _.range(steps).map(function(i) {
                var t = i/(steps-1);
                return cs(t).lab()[0];
            }),
            sy = d3.scale.linear().domain(d3.extent(l_steps)).range([140,5]),
            sx = d3.scale.linear().domain([0,steps]).range([10,width+10]);

        l_steps.forEach(function(l, i) {
            var x0 = sx(i),
                x1 = sx(i+1),
                y = sy(l);
            if (d == '') d = 'M'+[x0,y];
            d += ' V'+y;
            d += ' H'+x1;
        });        
        path.setAttribute('d', d);
        s.appendChild(path);
        $('#out').append(s);
    }

    function serializeUrl() {
        if (sequential) {
            location.hash = '#' + 
                'colors='+cln($('#colors').val()) + '|' +
                'steps='+$('#steps-seq').val() + '|' +
                'bez='+($('#bez').prop('checked') ? 1 : 0) + '|' +
                'coL='+($('#coL').prop('checked') ? 1 : 0);    
        } else {
            location.hash = '#diverging|' + 
                'c0='+cln($('#colors-left').val()) + '|' +
                'c1='+cln($('#colors-right').val()) + '|' +
                'steps='+$('#steps-div').val() + '|' +
                'bez0='+($('#bez-left').prop('checked') ? 1 : 0) + '|' +
                'bez1='+($('#bez-right').prop('checked') ? 1 : 0) + '|' +
                'coL0='+($('#coL-left').prop('checked') ? 1 : 0) + '|' +
                'coL1='+($('#coL-right').prop('checked') ? 1 : 0); 
        }
        function cln(s) {
            return s.replace(/(, *| +)/g, ',').replace(/'/g, '');
        }
    }
        
    function unserializeUrl() {
        var vars = location.hash.substr(1).split('|');
        sequential = true;
        _.each(vars, function(v) {
            var v = v.split('='),
                key = v[0], val = v[1];
            if (key == 'steps') $('#steps,#steps-div').val(val);
            else if (key == 'colors') $('#colors').val(val);
            else if (key == 'c0') $('#colors-left').val(val);
            else if (key == 'c1') $('#colors-right').val(val);
            else if (key == 'bez') $('#bez').prop('checked', val == '1');
            else if (key == 'bez0') $('#bez-left').prop('checked', val == '1');
            else if (key == 'bez1') $('#bez-right').prop('checked', val == '1');
            else if (key == 'coL') $('#coL').prop('checked', val == '1');     
            else if (key == 'coL0') $('#coL-left').prop('checked', val == '1');     
            else if (key == 'coL1') $('#coL-right').prop('checked', val == '1');     
            else if (key == 'diverging') sequential = false;
        });
    }

    function toggleMode() {
        sequential = !sequential;
        updateMode();
        update();
        serializeUrl();
    }

    function updateMode() {
        if (sequential) {
            $('#sequential').removeClass('hidden');
            $('#diverging').addClass('hidden');
        } else {
            $('#sequential').addClass('hidden');
            $('#diverging').removeClass('hidden');
        }
    }

    // load presets from hash
    if (location.hash) unserializeUrl()

    updateMode();

    $('input').change(update);
    update();

    $('#mode-toggle').click(toggleMode);

    function export_palette(str) {
        $('<pre/>').html(str).appendTo('#exports');
    }

});


</script>


</head>
<body>
  <div class="container"><div class="row"><div class="span8 offset2" style="position:relative">
<h2>Chroma.js&nbsp;Color Scale&nbsp;Helper</h2>

<p>This <a href="https://github.com/gka/chroma.js" target="_blank">chroma.js</a>-powered tool is here to help us  <a target="_blank" href="http://vis4.net/blog/posts/mastering-multi-hued-color-scales/">mastering multi-hued, multi-stops color scales</a>.</p>

<a class="btn btn-small" id="mode-toggle" style="position:absolute;top:20px;right:-40px;">sequential / diverging</a>

<div class="row">
    <div id="sequential" class="form well span8 hidden">
        <div class="row">
            <div class="span5">
                <label>Enter <a target="_blank" href="http://cng.seas.rochester.edu/CNG/docs/x11color.html">named colors</a> or hex codes:</label>
                <input id="colors" class="colors" checked="checked" type="text" value="lightyellow, orange, deeppink, darkred">
            </div>
            <div class="span3">
                <label>Step count</label>
                <input id="steps-seq" checked="checked" type="number" value="7">
            </div>
        </div>
        <div class="row">
            <div class="span4">
                <label class="checkbox">
                    <input id="bez" type="checkbox" checked="checked">
                    Bezier interpolation
                </label>
            </div>
            <div class="span4">
                <label class="checkbox">
                    <input id="coL" type="checkbox" checked="checked">
                    Correct lightness gradient
                </label>
            </div>
        </div>
    </div>

    <div id="diverging" class="form well span8">
        <div class="row">
            <div class="span3">
                <label>left</label>
                <input id="colors-left" class="colors" checked="checked" type="text" value="lightyellow, orange, deeppink, darkred"><br>
                <label class="checkbox">
                    <input id="bez-left" type="checkbox" checked="checked"> bezier interpol. 
                </label>&nbsp;&nbsp;
                <label class="checkbox">
                    <input id="coL-left" type="checkbox" checked="checked"> lightness correction
                </label>

            </div>
            <div class="span3">
                <label>right</label>
                <input id="colors-right" class="colors" checked="checked" type="text" value="lightyellow, orange, deeppink, darkred"><br>
                <label class="checkbox">
                    <input id="bez-right" type="checkbox" checked="checked"> bezier interpol. 
                </label>&nbsp;&nbsp;
                <label class="checkbox">
                    <input id="coL-right" type="checkbox" checked="checked"> lightness correction
                </label>
            </div>
            <div class="span2">
                <label>steps</label>
                <input id="steps-div" checked="checked" type="number" value="7">
            </div>
        </div>
       
    </div>
</div>

<div id="out"><div class="gradient" style="width: 750px;"><div style="width: 2.43902%; background: rgb(139, 0, 0);"></div><div style="width: 2.43902%; background: rgb(154, 3, 22);"></div><div style="width: 2.43902%; background: rgb(167, 12, 37);"></div><div style="width: 2.43902%; background: rgb(179, 25, 52);"></div><div style="width: 2.43902%; background: rgb(191, 37, 67);"></div><div style="width: 2.43902%; background: rgb(201, 49, 79);"></div><div style="width: 2.43902%; background: rgb(210, 63, 93);"></div><div style="width: 2.43902%; background: rgb(218, 75, 105);"></div><div style="width: 2.43902%; background: rgb(227, 88, 117);"></div><div style="width: 2.43902%; background: rgb(234, 101, 128);"></div><div style="width: 2.43902%; background: rgb(239, 115, 139);"></div><div style="width: 2.43902%; background: rgb(245, 128, 149);"></div><div style="width: 2.43902%; background: rgb(249, 141, 159);"></div><div style="width: 2.43902%; background: rgb(253, 155, 169);"></div><div style="width: 2.43902%; background: rgb(255, 169, 178);"></div><div style="width: 2.43902%; background: rgb(255, 185, 187);"></div><div style="width: 2.43902%; background: rgb(255, 199, 196);"></div><div style="width: 2.43902%; background: rgb(255, 214, 204);"></div><div style="width: 2.43902%; background: rgb(255, 227, 211);"></div><div style="width: 2.43902%; background: rgb(255, 242, 218);"></div><div style="width: 2.43902%; background: rgb(255, 255, 224);"></div><div style="width: 2.43902%; background: rgb(236, 251, 210);"></div><div style="width: 2.43902%; background: rgb(220, 247, 198);"></div><div style="width: 2.43902%; background: rgb(204, 242, 189);"></div><div style="width: 2.43902%; background: rgb(190, 236, 181);"></div><div style="width: 2.43902%; background: rgb(177, 230, 174);"></div><div style="width: 2.43902%; background: rgb(165, 224, 168);"></div><div style="width: 2.43902%; background: rgb(154, 218, 163);"></div><div style="width: 2.43902%; background: rgb(142, 210, 158);"></div><div style="width: 2.43902%; background: rgb(132, 204, 154);"></div><div style="width: 2.43902%; background: rgb(122, 198, 150);"></div><div style="width: 2.43902%; background: rgb(112, 191, 147);"></div><div style="width: 2.43902%; background: rgb(102, 184, 144);"></div><div style="width: 2.43902%; background: rgb(93, 177, 141);"></div><div style="width: 2.43902%; background: rgb(83, 170, 139);"></div><div style="width: 2.43902%; background: rgb(73, 162, 137);"></div><div style="width: 2.43902%; background: rgb(63, 156, 135);"></div><div style="width: 2.43902%; background: rgb(52, 148, 133);"></div><div style="width: 2.43902%; background: rgb(40, 141, 131);"></div><div style="width: 2.43902%; background: rgb(25, 134, 129);"></div><div style="width: 2.43902%; background: rgb(0, 128, 128);"></div></div><svg width="760" height="150"><path d="M10,140 V140 H28.292682926829272 V132.97141674379588 H46.585365853658544 V126.45747262861723 H64.8780487804878 V119.73417428807326 H83.17073170731709 V112.72663743836053 H101.46341463414635 V106.26017447123284 H119.7560975609756 V99.29194082583085 H138.0487804878049 V92.94025600324362 H156.34146341463418 V85.78178108054183 H174.63414634146343 V79.08363553639032 H192.9268292682927 V72.40310596169216 H211.21951219512195 V65.65698951007005 H229.5121951219512 V59.27519902050095 H247.8048780487805 V52.349952506861996 H266.0975609756098 V45.76060913858288 H284.390243902439 V38.54814757165423 H302.68292682926835 V32.00169421565461 H320.9756097560976 V24.904932296781197 H339.26829268292687 V18.645835959674656 H357.5609756097561 V11.371046003248019 H375.8536585365854 V5 H394.1463414634146 V10.077318556991468 H412.4390243902439 V14.580379621569666 H430.7317073170732 V19.39903894680836 H449.0243902439024 V24.40527575189059 H467.31707317073165 V29.239911896102218 H485.609756097561 V33.914204226918486 H503.9024390243903 V38.438664245191106 H522.1951219512196 V44.14228912874781 H540.4878048780487 V48.53148970277005 H558.780487804878 V52.91888312057028 H577.0731707317074 V57.82536630804222 H595.3658536585367 V62.73696194829325 H613.6585365853659 V67.57575559234263 H631.9512195121952 V72.45045135272801 H650.2439024390244 V77.90727027186335 H668.5365853658537 V82.17595056023445 H686.829268292683 V87.67100176827887 H705.1219512195122 V92.57568166835914 H723.4146341463414 V97.50636353029392 H741.7073170731708 V101.76457056344049 H760"></path></svg><div id="exports"><pre>#8b0000 #9a0316 #a70c25 #b31934 #bf2543 #c9314f #d23f5d #da4b69 #e35875 #ea6580 #ef738b #f58095 #f98d9f #fd9ba9 #ffa9b2 #ffb9bb #ffc7c4 #ffd6cc #ffe3d3 #fff2da #ffffe0 #ecfbd2 #dcf7c6 #ccf2bd #beecb5 #b1e6ae #a5e0a8 #9adaa3 #8ed29e #84cc9a #7ac696 #70bf93 #66b890 #5db18d #53aa8b #49a289 #3f9c87 #349485 #288d83 #198681 #008080</pre><pre>'#8b0000','#9a0316','#a70c25','#b31934','#bf2543','#c9314f','#d23f5d','#da4b69','#e35875','#ea6580','#ef738b','#f58095','#f98d9f','#fd9ba9','#ffa9b2','#ffb9bb','#ffc7c4','#ffd6cc','#ffe3d3','#fff2da','#ffffe0','#ecfbd2','#dcf7c6','#ccf2bd','#beecb5','#b1e6ae','#a5e0a8','#9adaa3','#8ed29e','#84cc9a','#7ac696','#70bf93','#66b890','#5db18d','#53aa8b','#49a289','#3f9c87','#349485','#288d83','#198681','#008080'</pre><pre>d3.scale.threshold()
    .range(['#8b0000','#9a0316','#a70c25','#b31934','#bf2543','#c9314f','#d23f5d','#da4b69','#e35875','#ea6580','#ef738b','#f58095','#f98d9f','#fd9ba9','#ffa9b2','#ffb9bb','#ffc7c4','#ffd6cc','#ffe3d3','#fff2da','#ffffe0','#ecfbd2','#dcf7c6','#ccf2bd','#beecb5','#b1e6ae','#a5e0a8','#9adaa3','#8ed29e','#84cc9a','#7ac696','#70bf93','#66b890','#5db18d','#53aa8b','#49a289','#3f9c87','#349485','#288d83','#198681','#008080']);</pre><pre>function palette(min, max) {
    var d = (max-min)/41;
    return d3.scale.threshold()
        .range(['#8b0000','#9a0316','#a70c25','#b31934','#bf2543','#c9314f','#d23f5d','#da4b69','#e35875','#ea6580','#ef738b','#f58095','#f98d9f','#fd9ba9','#ffa9b2','#ffb9bb','#ffc7c4','#ffd6cc','#ffe3d3','#fff2da','#ffffe0','#ecfbd2','#dcf7c6','#ccf2bd','#beecb5','#b1e6ae','#a5e0a8','#9adaa3','#8ed29e','#84cc9a','#7ac696','#70bf93','#66b890','#5db18d','#53aa8b','#49a289','#3f9c87','#349485','#288d83','#198681','#008080'])
        .domain([min+1*d,min+2*d,min+3*d,min+4*d,min+5*d,min+6*d,min+7*d,min+8*d,min+9*d,min+10*d,min+11*d,min+12*d,min+13*d,min+14*d,min+15*d,min+16*d,min+17*d,min+18*d,min+19*d,min+20*d,min+21*d,min+22*d,min+23*d,min+24*d,min+25*d,min+26*d,min+27*d,min+28*d,min+29*d,min+30*d,min+31*d,min+32*d,min+33*d,min+34*d,min+35*d,min+36*d,min+37*d,min+38*d,min+39*d,min+40*d,min+41*d]);
}</pre><pre>0x8b0000,0x9a0316,0xa70c25,0xb31934,0xbf2543,0xc9314f,0xd23f5d,0xda4b69,0xe35875,0xea6580,0xef738b,0xf58095,0xf98d9f,0xfd9ba9,0xffa9b2,0xffb9bb,0xffc7c4,0xffd6cc,0xffe3d3,0xfff2da,0xffffe0,0xecfbd2,0xdcf7c6,0xccf2bd,0xbeecb5,0xb1e6ae,0xa5e0a8,0x9adaa3,0x8ed29e,0x84cc9a,0x7ac696,0x70bf93,0x66b890,0x5db18d,0x53aa8b,0x49a289,0x3f9c87,0x349485,0x288d83,0x198681,0x008080</pre></div></div>

<div id="footer">
    <hr>
    Created by <a href="http://driven-by-data.net/" target="_blank">Gregor Aisch</a> for the sake of better use of colors in maps and data visualizations. 
</div>
    </div>
    </div>
    </div>
  




</body></html>